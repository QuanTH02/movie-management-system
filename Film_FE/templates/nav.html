<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top all-page-navbar">
  <a class="navbar-brand ml-5" href="home.html">QuanFilm</a>

  <div class="collapse navbar-collapse" id="navbarNav">
    <form class="search-box form-inline ml-auto" id="searchForm">
      <input class="form-control mr-2" type="search" placeholder="Search" id="searchInput" aria-label="Search"
        style="width: 500px;">
      <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
    </form>

    <ul class="navbar-nav ml-auto mr-4">
      <li class="nav-item">
        <a class="nav-link mode-page" href="#">Mode</a>
      </li>

      <li class="nav-item dropdown ml-4" style="display: none;" id="nav-setting">
        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown"
          aria-haspopup="true" aria-expanded="false">
          <div><i class="fas fa-cog"></i> Setting</div>
        </a>
        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
          <a class="dropdown-item" id="dropdown-item-profile" href="profile.html">Profile</a>
          <!-- <a class="dropdown-item" id="dropdown-item-login" href="login.html">Log in</a> -->
          <a class="dropdown-item" id="dropdown-item-logout" href="#">Log out</a>
        </div>
      </li>

      <li class="nav-item dropdown ml-4" id="nav-login"><a class="nav-link dropdown-toggle" href="#" id="navbarDropdown"
          role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          <div>Login</div>
        </a></li>

    </ul>
  </div>
</nav>

<script src="../static/js/home.js"></script>
<script>
  var currentAccount = localStorage.getItem('currentAccount');
  var navLogin = document.getElementById("nav-login");
  var navSetting = document.getElementById("nav-setting");
  
  if (currentAccount) {
    navSetting.style.display = "block";
    navLogin.style.display = "none";
  } else {
    navSetting.style.display = "none";
    navLogin.style.display = "block";
  }

  var logOut = document.getElementById("dropdown-item-logout");
  logOut.addEventListener("click", function () {
    localStorage.removeItem('currentAccount');
    window.location.href = "login.html";
  });

  navLogin.addEventListener("click", function () {
    window.location.href = "login.html";
  });
</script>